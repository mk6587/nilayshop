<!doctype html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>استخراج اطلاعات محصول ترندیول → فارسی</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Vazirmatn', system-ui, -apple-system, Segoe UI, Roboto, Arial; background:#0b1020; color:#e8eaf6; margin:0; }
      .wrap { max-width: 900px; margin: 40px auto; padding: 24px; }
      .card { background:#111833; border:1px solid #1e2a52; border-radius:16px; padding:24px; box-shadow: 0 10px 30px rgba(0,0,0,.25); }
      .title { font-size: 22px; font-weight: 700; margin-bottom: 18px; }
      form { display:flex; gap:12px; }
      input[type="url"]{ flex:1; padding:12px 14px; border-radius:12px; border:1px solid #2a3a6f; background:#0d1531; color:#e8eaf6; }
      button { padding:12px 18px; border-radius:12px; border:0; background:#5865f2; color:white; font-weight:600; cursor:pointer; }
      button:hover{ filter:brightness(1.1) }
      .error { margin-top:12px; color:#ffb4b4; }
      table { width:100%; border-collapse: collapse; margin-top:22px; font-size: 15px; }
      th, td { border:1px solid #243266; padding:10px; vertical-align: top; }
      th { background:#0f1a3b; text-align:right; width: 25%; }
      td { background:#0b1431; }
      img { max-width: 180px; border-radius:12px; border:1px solid #26336a; }
      .note { margin-top: 14px; color:#a9b5ff; font-size: 13px; }
      .footer { margin-top:30px; opacity:.75; font-size: 13px; }
      a { color:#9db0ff; }
      .grid { display:grid; grid-template-columns: 220px 1fr; gap:16px; align-items: start; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <div class="title">استخراج اطلاعات محصول ترندیول و ترجمه به فارسی</div>
        <form method="post" action="/extract">
          <input type="url" name="url" placeholder="لینک صفحه محصول در Trendyol را وارد کنید" required>
          <button type="submit">استخراج</button>
        </form>
        {% if error %}
        <div class="error">{{ error }}</div>
        {% endif %}
        {% if result %}
        <table>
          <tr>
            <th>عکس</th>
            <td>
              {% if result.image %}
                <img src="{{ result.image }}" alt="{{ result.name }}">
              {% else %}
                —
              {% endif %}
            </td>
          </tr>
          <tr><th>نام محصول</th><td>{{ result.name or "—" }}</td></tr>
          <tr><th>قیمت</th><td>{{ result.price or "—" }}</td></tr>
          <tr><th>توضیحات</th><td>{{ result.description or "—" }}</td></tr>
          <tr><th>نام برند</th><td>{{ result.brand or "—" }}</td></tr>
          <tr><th>دسته‌بندی</th><td>{{ result.category or "—" }}</td></tr>
          <tr><th>وزن محصول</th><td>{{ result.weight or "—" }}</td></tr>
        </table>
        <div class="note">اگر برخی فیلدها خالی هستند، ممکن است صفحه محصول آن اطلاعات را منتشر نکرده باشد یا ساختار صفحه تغییر کرده باشد.</div>
        {% endif %}
        <div class="footer">
          <b>نکته حقوقی:</b> لطفاً شرایط استفاده و robots.txt ترندیول را رعایت کنید. این ابزار برای استفادهٔ شخصی و با نرخ درخواست پایین طراحی شده است.
        </div>
      </div>
    </div>
  </body>
</html>